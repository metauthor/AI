# Output generated by @ua_chatgpt_bot

Ваше питання: /start

Відповідь: "
+        end
+      end
+    end
+
+    context "when the machine is powered off" do
+      let(:state) { 'poweredOff' }
+
+      context "the soft power on command is given" do
+        before do
+          stub_request(:post, soft_power_on_url).to_return(status: 202)
+        end
+
+        it "changes the state to starting" do
+          AWS::EC2::Instance.find(client, instance_id).start
+
+          expect(instance).to be_starting
+        end
+
+        it "makes a soft power on request" do
+          AWS::EC2::Instance.find(client, instance_id).start
+
+          expect(a_request(:post, soft_power_on_url)).to have_been_made
+        end
+
+        it "returns the instance" do
+          instance = AWS::EC2::Instance.find(client, instance_id).start
+
+          expect(instance).to be_a AWS::EC2::Instance
+        end
+      end
+
+      context "the hard power on command is given" do
+        let(:hard_power_on_url) { "https://ec2.#{region}.amazonaws.com/?Action=StartInstances&InstanceId.1=#{instance_id}" }
+
+        before do
+          stub_request(:post, hard_power_on_url).to_return(status: 202)
+        end
+
+        it "changes the state to starting" do
+          AWS::EC2::Instance.find(client, instance_id).start(true)
+
+          expect(instance).to be_starting
+        end
+
+        it "makes a hard power on request" do
+          AWS::EC2::Instance.find(client, instance_id).start(true)
+
+          expect(a_request(:post, hard_power_on_url)).to have_been_made
+        end
+
+        it "returns the instance" do
+          instance = AWS::EC2::Instance.find(client, instance_id).start(true)
+
+          expect(instance).to be_a AWS::EC2::Instance
+        end
+      end
+    end
+  end
+end

