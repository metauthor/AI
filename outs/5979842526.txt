# Output generated by @ua_chatgpt_bot

Ваше питання: Text, cat

Відповідь: Ids: onlyIds };
            return cleanCategoryData;
        }
        return '';
    };

    handleTitleChange = (e) => {
        this.setState({ title: e.target.value });
        if (e.target.value) {
            this.validateTitle(e.target.value);
        }
    };

    handleDescriptionChange = (e) => {
        this.setState({ description: e.target.value });
        if (e.target.value) {
            this.validateDescription(e.target.value);
        }
    };
    handleCategoryChange = (tags) => {
        let categoryErr = '';
        if (tags.length <= 2) {
            categoryErr = 'Minimum of 2 tag is required';
        }
        this.setState({ categoryData: tags, categoryErr });
    };

    handleKeywordsChange = (e) => {
        const value = e.target.value;
        const valueArr = e.target.value.split(',');
        const isValid = value.length < 255;
        let keywordsErr = '';
        if (valueArr.length < 3) {
            keywordsErr = 'Minimum 3 keywords required';
            this.setState({ keywordsErr });
            return;
        }
        if (value.length >= 255) {
            keywordsErr = 'Maximum character limit exceeded';
        }
        this.setState({
            keyword: value,
            keywordsErr,
        });
    };

    handleThumbnailChange = (data) => {
        this.setState({
            thumbnail: {
                id: data.id,
                thumbUrl: `${data.url}/convert?w=128&h=96&fit=crop`,
            }
        });
    };

    handleSubmit = () => {
        const {
            title,
            description,
            keyword,
            thumbnail,
            sharableLinks,
            sites,
        } = this.state;
        const modified = {
            title,
            description,
            keyword,
            thumbnail_id: thumbnail.id,
            shares: sharableLinks,
            sites,
        };

        this.setState({ loading: true, buttonDisable: true });
        this.props.onSubmit(modified, this.sendDataToServer.bind(this));
    };

    sendDataToServer = (data) => {
        articleCreate(data).then((res) => {
            if (res.status === 201) {
                this.setState({
                    loading: false,
                    buttonDisable: false,
                });
                this.props.close();
                this.props.getData();
            }
        });
    };

    render() {
        const { close, length } = this.props;
        const {
            title,
            titleErr,
            categoryData,
            categoryErr,
            keyword,
            keywordsErr,
            thumbnail,
            description,
            descriptionErr,
            loading,
            buttonDisable,
            iFrameData,
        } = this.state;
        const { companies, categoryList } = this.props;
        const options = companies.map((each) => {
            return { label: each.name, value: each.id };
        });

        const categoryOptions = categoryList.map((each) => {
            return { label: each.name, value: each.id };
        });

        return (
            <CustomModal
                open={this.props.modalOpen}
                title="Create Article"
                handleClose={close}
                width="70%"
            >
                {iFrameData &&
                    <IframeModal
                        open={true}
                        close={() => {
                            this.setState({ iFrameData: '' });
                        }}

                    >
                        <div>
                            <div className="text-center" style={{ marginTop: '60px' }}>
                                <h3>Are you sure you want to Delete?</h3>
                            </div>
                            <div className="text-center" style={{ marginTop: '30px' }}>
                                <button
                                    data-type="delete"
                                    onClick={() => {
                                        this.deleteContent(iFrameData);
                                    }}
                                    className="tr-button"
                                    type="submit"
                                >
                                    Yes, Delete now
                                </button>
                            </div>
                        </div>
                    </IframeModal>
                }
                <div>
                    <form>
                        <div className="modal-body">
                            <div className="form-page-  form-division-basic">
                                <div className="col-md-6">
                                    <div className="row">
                                        <div className="form-group col-md-12">
                                            <label htmlFor="title">Title:</label>
                                            <Input
                                                className="form-control"
                                                autoComplete="off"
                                                value={title}
                                                onChange={this.handleTitleChange}
                                            />
                                            {titleErr === '' ?
                                                '' :
                                                <span className="error">{titleErr}</span>
                                            }
                                        </div>
                                        <div className="form-group col-md-12">
                                            <label htmlFor="description">Description:</label>
                                            <Textarea
                                                className="form-control"
                                                rows={5}
                                                value={description}
                                                onChange={this.handleDescriptionChange}
                                            />
                                            {descriptionErr === '' ?
                                                '' :
                                                <span className="error">{descriptionErr}</span>
                                            }
                                        </div>
                                        <div>
                                            <CategoriesSelect
                                                options={categoryOptions}
                                                handleChange={this.handleCategoryChange}
                                                value={this.categoryFormat(categoryData) || ''}
                                            />
                                            {categoryErr === '' ?
                                                '' :
                                                <span className="error">{categoryErr}</span>
                                            }
                                        </div>
                                        <div className="form-group col-md-12">
                                            <label htmlFor="url">Keywords:</label>
                                            <input
                                                className="form-control"
                                                maxLength={255}
                                                autoComplete="off"
                                                type="text"
                                                onChange={this.handleKeywordsChange}
                                                value={keyword}
                                            />
                                            {keywordsErr === '' ? ''
                                                : <span className="error">{keywordsErr}</span>
                                            }
                                        </div>
                                        <div className="form-group col-md-12">
                                            <label htmlFor="url">Thumbnail:</label>
                                            <AvatarSelect
                                                defaultImage={thumbnail.thumbUrl}
                                                handleChange={this.handleThumbnailChange}
                                            />
                                        </div>
                                    </div>
                                </div>
                                <div className="col-md-6">
                                    <div className="row">
                                        <div className="form-group col-md-6">
                                            <label>
                                                Destination (Companies and Sites):
                                            </label>
                                            <MultiSelect
                                                options={options}
                                                handleChange={this.handleSiteChange}
                                                defaultValue={this.state.sites}
                                                className="create-task__status-select select"
                                            />
                                        </div>
                                    </div>
                                    <div className="row">
                                        <div className="form-group col-md-12">
                                            <label htmlFor="url">Sharable Links:</label>
                                            <input
                                                className="form-control"
                                                disabled={this.props.id ? false : true}
                                                readOnly={this.props.id ? false : true}
                                                default

